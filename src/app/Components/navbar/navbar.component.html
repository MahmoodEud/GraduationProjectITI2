<div class="container-fluid p-0 m-0 fixed-navbar navBarDiv">
  <nav class="navbar navbar-expand-lg navbar-light bg-light w-100">
    <a href="#" class="navbar-brand">
      <img src="assets/Logo.png" alt="Logo Elbasit" class="navbar-logo" />
    </a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="تبديل القائمة"
      appButtonsAnimation
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      
      @if (currentRoute == '/Login') {
        <div class="navbar-nav ms-auto d-flex flex-lg-row flex-column align-items-lg-center align-items-start w-100 justify-content-end">
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <div class="theme-toggle-container">
              <input 
                type="checkbox"
                class="custom-toggle"
                [checked]="isDarkMode"
                (change)="toggleMode()"
                id="themeToggle"
              />
              <label class="toggle-label" for="themeToggle">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <span class="toggle-slider"></span>
              </label>
              <span class="d-lg-none toggle-text">الوضع المظلم</span>
            </div>
          </div>
          <div class="nav-item order-lg-2 order-2">
            <a
              routerLink="Register"
              class="btn btn-outline-primary register-btn"
              appButtonsAnimation
              animation="pulse"
            >
              إنشاء حساب <i class="fas fa-plus me-2"></i>
            </a>
          </div>
        </div>
      }@else if(currentRoute == '/Register'){
        <div class="navbar-nav ms-auto d-flex flex-lg-row flex-column align-items-lg-center align-items-start w-100 justify-content-end">
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <div class="theme-toggle-container">
              <input 
                type="checkbox"
                class="custom-toggle"
                [checked]="isDarkMode"
                (change)="toggleMode()"
                id="themeToggleRegister"
              />
              <label class="toggle-label" for="themeToggleRegister">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <span class="toggle-slider"></span>
              </label>
              <span class="d-lg-none toggle-text">الوضع المظلم</span>
            </div>
          </div>
          <div class="nav-item order-lg-2 order-2">
            <a
              routerLink="/Login"
              class="btn btn-outline-primary login-btn"
              appButtonsAnimation
              animation="pulse"
            >
              تسجيل الدخول <i class="fas fa-sign-in-alt me-2"></i>
            </a>
          </div>
        </div>
      }@else if (acc.currentUser()?.role=="admin"||acc.currentUser()?.role=="Admin"||acc.currentUser()?.role=="ADMIN") {
        <div class="navbar-nav ms-auto d-flex flex-lg-row flex-column align-items-lg-center align-items-start w-100 justify-content-end">
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <button type="button" class="mx-5 p-2 btn btn-warning rounded-5" [routerLink]="'/admin/users'" >Admin Pannel</button>
          </div>
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <div class="theme-toggle-container">
              <input 
                type="checkbox"
                class="custom-toggle"
                [checked]="isDarkMode"
                (change)="toggleMode()"
                id="themeToggleUser"
              />
              <label class="toggle-label" for="themeToggleUser">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <span class="toggle-slider"></span>
              </label>
              <span class="d-lg-none toggle-text">الوضع المظلم</span>
            </div>
          </div>
          <div class="nav-item order-lg-2 order-2 mb-2 mb-lg-0">
            <i class="fas fa-bell fs-4 bell-icon" title="الإشعارات"></i>
          </div>
          <div class="nav-item order-lg-3 order-3">
            <img 
              [src]="profileImageUrl"
              (error)="profileImageUrl = 'assets/Profil4.png'"
              alt="صورة المستخدم"
              class="profile-image"
              appButtonsAnimation
              animation="pulse"
              title="الملف الشخصي"
            >
          </div>
        </div>
      }
      
      @else if (acc.currentUser()) {
        <div class="navbar-nav ms-auto d-flex flex-lg-row flex-column align-items-lg-center align-items-start w-100 justify-content-end">
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <div class="theme-toggle-container">
              <input 
                type="checkbox"
                class="custom-toggle"
                [checked]="isDarkMode"
                (change)="toggleMode()"
                id="themeToggleUser"
              />
              <label class="toggle-label" for="themeToggleUser">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <span class="toggle-slider"></span>
              </label>
              <span class="d-lg-none toggle-text">الوضع المظلم</span>
            </div>
          </div>
          <div class="nav-item order-lg-2 order-2 mb-2 mb-lg-0">
            <i class="fas fa-bell fs-4 bell-icon" title="الإشعارات"></i>
          </div>
          <div class="nav-item order-lg-3 order-3">
            <img 
              [src]="profileImageUrl"
              (error)="profileImageUrl = 'assets/Profil4.png'"
              alt="صورة المستخدم"
              class="profile-image"
              appButtonsAnimation
              animation="pulse"
              title="الملف الشخصي"
            >
          </div>
        </div>
      }@else {
        <!-- Navigation Links -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active-link" routerLinkActive="active" href="#" aria-current="page">
              الصفحة الرئيسية
            </a>
          </li>
          <li class="nav-item">
            <a href="#ElbasitDef" routerLinkActive="active" class="nav-link">
              من نحن
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLinkActive="active" href="#CoursesSection">
              الدورات التعليمية
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLinkActive="active" href="#PrentSection">
              ولي الأمر
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLinkActive="active" href="#PopularQuestionSection">
              الأسئلة الشائعة
            </a>
          </li>
        </ul>

        <!-- Action Buttons -->
        <div class="navbar-nav ms-auto d-flex flex-lg-row flex-column align-items-lg-center align-items-start">
          <div class="nav-item order-lg-1 order-1 mb-2 mb-lg-0">
            <div class="theme-toggle-container">
              <input 
                type="checkbox"
                class="custom-toggle"
                [checked]="isDarkMode"
                (change)="toggleMode()"
                id="themeToggleGuest"
              />
              <label class="toggle-label" for="themeToggleGuest">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <span class="toggle-slider"></span>
              </label>
              <span class="d-lg-none toggle-text">الوضع المظلم</span>
            </div>
          </div>
          <div class="nav-item order-lg-2 order-2 mb-2 mb-lg-0">
            <a
              routerLink="Register"
              class="btn btn-outline-primary register-btn"
              appButtonsAnimation
              animation="pulse"
            >
              إنشاء حساب <i class="fas fa-plus me-2"></i>
            </a>
          </div>
          <div class="nav-item order-lg-3 order-3">
            <a
              routerLink="/Login"
              class="btn btn-primary login-btn"
              appButtonsAnimation
              animation="pulse"
            >
              تسجيل الدخول <i class="fas fa-sign-in-alt me-2"></i>
            </a>
          </div>
        </div>
      }
    </div>
  </nav>
</div>

<!-- Scroll Progress Bar -->
<div class="scroll-progress-bar" #progressBar></div>

<style>

</style>