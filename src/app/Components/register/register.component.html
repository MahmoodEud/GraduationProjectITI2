<section class="full-screen-section d-flex justify-content-center align-items-center text-white min-vh-100">
  <div class="container-fluid">
    <div class="row g-0 min-vh-100">
      <!-- Registration Form Section -->
      <div class="col-12 col-lg-6 order-2 order-lg-1">
        <div class="h-100 w-100 white-half d-flex flex-column justify-content-center p-4 p-md-5">
          <!-- Logo/Brand Area -->
          <div class="text-center mb-md-5">
            <div class="brand-logo bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center " 
                 style="width: 80px; height: 80px; font-size: 2rem;">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <h6 class="text-muted ">منصة البسيط </h6>
          </div>

          <div class="title mb-md-5">
            <div class="row">
              <div class="col-12 text-center">
                <h1 class="LogingHeader ">إنشاء حساب</h1>
                <p class="text-muted">انضم إلى منصتنا وابدأ رحلتك التعليمية!</p>
              </div>
            </div>
          </div>

          <!-- Registration Form -->
          <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="login-form">
            <div class="container-fluid">
              <div class="row mb-0">
                <div class="col-12">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-user text-muted"></i>
                      </span>
                      <input
                        type="text"
                        class="form-control border-start-0 ps-0"
                        placeholder="الأسم رباعى"
                        aria-label="الأسم رباعى"
                        formControlName="name"
                      />
                    </div>
                    @if (registrationForm.get("name")?.invalid && registrationForm.get("name")?.touched) {
                      <small class="text-danger ms-5">الأسم لازم يبقا رباعي</small>
                    } @else if (registrationForm.get('name')?.valid && registrationForm.get('name')?.touched) {
                      <small class="text-success ms-5">الأسم تمام التمام</small>
                    }
                  </div>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-12 col-md-6 mt-3">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-image text-muted"></i>
                      </span>
                      <input
                        type="file"
                        accept="image/*"
                        (change)="onImageSelected($event)"
                        class="form-control border-start-0 ps-0"
                      />
                    </div>
                    <small class="text-muted ms-5">ارفع صورة شخصية (jpg / png)</small>
                  </div>
                </div>

                <div class="col-12 col-md-6 mt-3">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-user text-muted"></i>
                      </span>
                      <input
                        type="text"
                        class="form-control border-start-0 ps-0"
                        placeholder="أسم المستخدم"
                        aria-label="أسم المستخدم"
                        formControlName="username"
                      />
                    </div>
                    @if (registrationForm.get('username')?.invalid && registrationForm.get('username')?.touched) {
                      <small class="text-danger ms-5"> اسم المستخدم مطلوب</small>
                    } @else if (registrationForm.get('username')?.valid && registrationForm.get('username')?.touched) {
                      <small class="text-success ms-5">اسم المستخدم سليم</small>
                    }
                  </div>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-12 col-md-6">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-phone text-muted"></i>
                      </span>
                      <input
                        type="text"
                        class="form-control border-start-0 ps-0"
                        placeholder="رقم الهاتف"
                        aria-label="رقم الهاتف"
                        formControlName="PhoneNumber"
                      />
                    </div>
                    @if (registrationForm.get('PhoneNumber')?.invalid && registrationForm.get('PhoneNumber')?.touched) {
                      <small class="text-danger ms-5">رقم تليفون الطالب مطلوب</small>
                    } @else if (registrationForm.get('PhoneNumber')?.valid && registrationForm.get('PhoneNumber')?.touched) {
                      <small class="text-success ms-5">رقم التليفون صحيح</small>
                    }
                  </div>
                </div>
                <div class="col-12 col-md-6 mt-3 mt-md-0">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-phone-alt text-muted"></i>
                      </span>
                      <input
                        type="text"
                        class="form-control border-start-0 ps-0"
                        placeholder="رقم ولي الأمر"
                        aria-label="رقم ولي الأمر"
                        formControlName="parentphonenumber"
                      />
                    </div>
                    @if (registrationForm.get('parentphonenumber')?.invalid && registrationForm.get('parentphonenumber')?.touched) {
                      <small class="text-danger ms-5">رقم الأب مطلوب</small>
                    } @else if (registrationForm.get('parentphonenumber')?.valid && registrationForm.get('parentphonenumber')?.touched) {
                      <small class="text-success ms-5">رقم الأب سليم</small>
                    }
                  </div>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-12 col-md-6">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-calendar text-muted"></i>
                      </span>
                      <input
                        type="date"
                        class="form-control border-start-0 ps-0"
                        placeholder="تاريخ الميلاد"
                        aria-label="تاريخ الميلاد"
                        formControlName="BirthDate"
                      />
                    </div>
                    @if (registrationForm.get('BirthDate')?.invalid && registrationForm.get('BirthDate')?.touched) {
                      <small class="text-danger ms-5">تاريخ الميلاد مطلوب</small>
                    } @else if (registrationForm.get('BirthDate')?.valid && registrationForm.get('BirthDate')?.touched) {
                      <small class="text-success ms-5">تاريخ الميلاد صحيح</small>
                    }
                  </div>
                </div>
                <div class="col-12 col-md-6 mt-3 mt-md-0">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-layer-group text-muted"></i>
                      </span>
                      <select class="form-select border-start-0 ps-0" aria-label="الصف الدراسى" formControlName="Grade">
                        <option value="" disabled selected>اختر الصف الدراسى</option>
                        <option value="1">الصف الأول الثانوى</option>
                        <option value="2">الصف الثاني الثانوى</option>
                        <option value="3">الصف الثالث الثانوى</option>
                      </select>
                    </div>
                    @if (registrationForm.get('Grade')?.invalid && registrationForm.get('Grade')?.touched) {
                      <small class="text-danger ms-5">برجاء ادخال السنة الدراسية</small>
                    } @else if (registrationForm.get('Grade')?.valid && registrationForm.get('Grade')?.touched) {
                      <small class="text-success ms-5"> السنة الدراسية صحيحة</small>
                    }
                  </div>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-12 col-md-6">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-lock text-muted"></i>
                      </span>
                      <input
                        type="password"
                        class="form-control border-start-0 ps-0"
                        placeholder="كلمة المرور"
                        aria-label="كلمة المرور"
                        formControlName="Password"
                      />
                    </div>
                    @if (registrationForm.get('Password')?.invalid && registrationForm.get('Password')?.touched) {
                      <small class="text-danger ms-5">كلمة السر مطلوبة </small>
                    } @else if (registrationForm.get('Password')?.valid && registrationForm.get('Password')?.touched) {
                      <small class="text-success ms-5">كلمة السر صحيحة</small>
                    }
                  </div>
                </div>
                <div class="col-12 col-md-6 mt-3 mt-md-0">
                  <div class="form-group">
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0">
                        <i class="fas fa-lock text-muted"></i>
                      </span>
                      <input
                        type="password"
                        class="form-control border-start-0 ps-0"
                        placeholder="تأكيد كلمة المرور"
                        aria-label="تأكيد كلمة المرور"
                        formControlName="confirmPassword"
                      />
                    </div>
                    @if (
                      registrationForm.get('confirmPassword')?.touched &&
                      (
                        registrationForm.get('confirmPassword')?.invalid ||
                        registrationForm.errors?.['passwordsMismatch']
                      )
                    ) {
                      <small class="text-danger ms-5"> أدخال كلمة سر متطابقة</small>
                    } @else if (
                      registrationForm.get('confirmPassword')?.valid &&
                      registrationForm.get('Password')?.valid &&
                      !registrationForm.errors?.['passwordsMismatch'] &&
                      registrationForm.get('confirmPassword')?.touched
                    ) {
                      <small class="text-success ms-5">كلمة المرور صحيحة</small>
                    }
                  </div>
                </div>
              </div>

              <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary w-75 mt-2 p-2 rounded-pill shadow-sm">
                  <i class="fas fa-user-plus me-2"></i>إنشاء حساب
                </button>
              </div>
            </div>
          </form>

          <!-- Footer Links -->
          <div class="mt-auto pt-4">
            <p class="text-muted text-center mb-2">
              باستخدامك للمنصة فأنت توافق على 
              <a href="#" class="text-primary text-decoration-none">سياسة الخصوصية</a>
              و
              <a href="#" class="text-primary text-decoration-none">الشروط والأحكام</a>
            </p>
            <p class="text-center mb-0">
              <span class="text-muted">لديك حساب بالفعل؟</span>
              <a routerLink="/Login" class="text-primary text-decoration-none fw-bold ms-1">
                تسجيل الدخول
              </a>
            </p>
          </div>
        </div>
      </div>

      <!-- Image Section -->
      <div class="col-12 col-lg-6 order-1 order-lg-2 d-none d-lg-flex align-items-center justify-content-center position-relative">
        <!-- Image Container -->
        <div class="image-container position-relative z-index-2 p-4 p-md-5 text-center">
          <img src="assets/Login.png" class="img-fluid rounded-4 shadow-lg" alt="إنشاء حساب" style="max-height: 80vh; object-fit: contain;" />
        </div>

        <!-- Decorative Elements -->
        <div class="position-absolute top-0 start-0 w-100 h-100">
          <div class="decoration-circle position-absolute" style="top: 10%; right: 10%; width: 100px; height: 100px; background: linear-gradient(45deg, #e3f2fd, #bbdefb); border-radius: 50%; opacity: 0.7;"></div>
          <div class="decoration-circle position-absolute" style="bottom: 20%; left: 15%; width: 60px; height: 60px; background: linear-gradient(45deg, #c8e6c9, #a5d6a7); border-radius: 50%; opacity: 0.5;"></div>
          <div class="decoration-circle position-absolute" style="top: 30%; left: 5%; width: 40px; height: 40px; background: linear-gradient(45deg, #fff3e0, #ffcc02); border-radius: 50%; opacity: 0.6;"></div>
        </div>
      </div>
    </div>
  </div>
</section>